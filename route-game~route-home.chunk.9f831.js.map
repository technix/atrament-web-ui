{"version":3,"sources":["webpack:///./components/ui/settings-sound/index.css","webpack:///./components/ui/settings-text/index.js","webpack:///./components/ui/choice-button/index.css","webpack:///./components/ui/choice-button/index.js","webpack:///./components/ui/container-text/index.css","webpack:///./components/ui/container-text/index.js","webpack:///./components/ui/header/index.css","webpack:///./components/ui/header/index.js","webpack:///./components/ui/image/index.css","webpack:///./components/ui/image/index.js","webpack:///./components/ui/link-menu/index.css","webpack:///./components/ui/link-menu/index.js","webpack:///./components/ui/settings-animation/index.js","webpack:///./components/ui/settings-backdrop/index.css","webpack:///./components/ui/settings-backdrop/index.js","webpack:///./components/ui/settings-close-button/index.css","webpack:///./components/ui/settings-close-button/index.js","webpack:///./components/ui/settings-modal/index.css","webpack:///./components/ui/settings-modal/index.js","webpack:///./components/ui/settings-font/index.css","webpack:///./components/ui/settings-font/index.js","webpack:///./components/ui/settings-text/index.css","webpack:///./components/ui/settings-theme/index.css","webpack:///./components/ui/settings-theme/index.js","webpack:///./components/ui/toggle/index.css","webpack:///./components/ui/toggle/index.js","webpack:///./components/ui/block/index.css","webpack:///./components/ui/block/index.js","webpack:///./components/screens/settings/index.css","webpack:///./components/screens/settings/index.js","webpack:///../node_modules/preact-router/match/index.module.js","webpack:///./components/ui/link-home/index.css","webpack:///./components/ui/link-home/index.js","webpack:///./components/ui/settings-sound/index.js","webpack:///../node_modules/@nanostores/preact/index.js","webpack:///../node_modules/nanostores/listen-keys/index.js"],"names":["ChoiceButton","_ref","choice","handleClick","onClick","useCallback","id","h","class","style","dangerouslySetInnerHTML","__html","ContainerText","children","fontSize","container_text","join","concat","Header","header","header_align","Image","src","imagebox","image","LinkMenu","key","SettingsAnimation","animation","setAnimation","handleAnimation","e","target","checked","Toggle","enabled","onChange","SettingsBackdrop","backdrop","SettingsCloseButton","title","SettingsModal","settings","SettingsFont","font","setFont","handleFont","value","settings_font_container","fonts","Object","entries","map","_ref2","_ref3","_slicedToArray","k","v","selected","datapointsFontSize","s","minFontSize","maxFontSize","stepFontSize","push","SettingsText","setFontSize","handleFontSize","settings_text","settings_fontsize_container","settings_font_a","settings_fontsize_input_container","settings_fontsize_input","type","min","max","step","defaultFontSize","onInput","list","f","settings_font_sample","sampleFontsizeText","SettingButton","themeId","themeConfig","buttonStyle","color","settings_theme_button","SettingsTheme","setTheme","handleTheme","attributes","settings_theme_container","themes","_ref4","Block","align","cssStyles","Settings","atrament","useContext","Atrament","useStore","store","set","save","setMute","toggle","setVolume","_useState2","useState","isOpen","openSettings","toggleSettings","escHandler","useEffect","document","addEventListener","removeEventListener","SettingsSound","mute","volume","theme","width","version","c","l","className","n","activeClass","u","activeClassName","i","path","p","a","t","r","keys","length","indexOf","url","href","o","m","LinkHome","Link","handleMute","handleVolume","Fragment","settings_sound","settings_sound_container","settings_sound_icon","settings_sound_input_container","settings_sound_volume","disabled","opts","arguments","undefined","forceRender","valueBeforeEffect","get","batching","timer","unlisten","rerender","setTimeout","listener","keysSet","Set","_toConsumableArray","listen","changed","has","listenKeys","clearTimeout"],"mappings":"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","file":"route-game~route-home.chunk.9f831.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"settings_sound_container\":\"settings_sound_container__tdffk\",\"settings_sound_input_container\":\"settings_sound_input_container__CT+Se\",\"settings_sound_volume\":\"settings_sound_volume__63HAU\",\"settings_sound_icon\":\"settings_sound_icon__XPzAb\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\nimport { useCallback } from 'preact/hooks';\r\n\r\nimport { defaultFontSize, stepFontSize, minFontSize, maxFontSize, sampleFontsizeText } from 'src/constants';\r\n\r\nimport { fonts } from 'src/components/theme';\r\n\r\nconst datapointsFontSize = [];\r\nfor (let s=minFontSize; s <= maxFontSize; s+= stepFontSize) {\r\n  datapointsFontSize.push(s);\r\n}\r\n\r\nconst SettingsText = ({ font, fontSize, setFontSize }) => {\r\n  const handleFontSize = useCallback((e) => setFontSize(e.target.value), [ setFontSize ]);\r\n\r\n  return (\r\n    <div class={[style.settings_text, 'atrament-settings-text'].join(' ')}>\r\n      <div class={style.settings_fontsize_container}>\r\n        <div class={style.settings_font_a} style={{'font-size': `${minFontSize}%`}}>A</div>\r\n        <div class={style.settings_fontsize_input_container}>\r\n          <input\r\n            class={style.settings_fontsize_input}\r\n            type=\"range\"\r\n            min={minFontSize}\r\n            max={maxFontSize}\r\n            step={stepFontSize}\r\n            value={fontSize || defaultFontSize}\r\n            onInput={handleFontSize}\r\n            list=\"fontSizes\"\r\n          />\r\n          <datalist id=\"fontSizes\">\r\n            {datapointsFontSize.map((f) => <option value={f}></option>)}\r\n          </datalist>\r\n        </div>\r\n        <div class={style.settings_font_a} style={{'font-size': `${maxFontSize}%`}}>A</div>\r\n      </div>\r\n      <div class={style.settings_font_sample} style={{'font-size': `${fontSize}%`, 'font-family': fonts[font]}}>\r\n        {sampleFontsizeText}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsText;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"choice_button\":\"choice_button__rAvgB\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\n\nconst ChoiceButton = ({ choice, handleClick }) => {\n  const onClick = useCallback(() => {\n    handleClick(choice.id);\n  }, choice);\n  return (\n    <button class={style.choice_button} onClick={onClick} dangerouslySetInnerHTML={{__html: choice.choice}}></button>\n  );\n};\n\nexport default ChoiceButton;\n","// extracted by mini-css-extract-plugin\nexport default {\"container_text\":\"container_text__ZXoDQ\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst ContainerText = ({ children, fontSize }) => {  \n  return (\n    <div class={[style.container_text, 'atrament-text-container'].join(' ')} style={{'font-size': `${fontSize}%`}}>\n      {children}\n    </div>\n  );\n};\n\nexport default ContainerText;\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"header__76MLv\",\"header_align\":\"header_align__UjY+Q\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\n\r\nconst Header = ({ children }) => (\r\n  <div class={[style.header, 'atrament-header'].join(' ')}>\r\n    <div class={style.header_align}>\r\n        {children}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Header;","// extracted by mini-css-extract-plugin\nexport default {\"imagebox\":\"imagebox__Km9ky\",\"image\":\"image__Qdgr1\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Image = ({ src }) => (\n  src ?\n    <div class={[style.imagebox, 'atrament-imagebox'].join(' ')}>\n      <img src={src} class={[style.image, 'atrament-picture'].join(' ')} />\n    </div>\n  :\n    ''\n);\n\nexport default Image;","// extracted by mini-css-extract-plugin\nexport default {\"link_menu\":\"link_menu__S6+au\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\n\r\nconst LinkMenu = ({children, key, onClick}) => (\r\n  <div>\r\n    <button key={key} onClick={onClick} class={style.link_menu}>{children}</button>\r\n  </div>\r\n);\r\n\r\nexport default LinkMenu;","import { h } from 'preact';\r\nimport { useCallback } from 'preact/hooks';\r\nimport Toggle from '../toggle';\r\n\r\nconst SettingsAnimation = ({ animation, setAnimation }) => {\r\n  const handleAnimation = useCallback((e) => setAnimation(e.target.checked), [ setAnimation ]);\r\n\r\n  return (\r\n    <div class={['atrament-settings-animation'].join(' ')}>\r\n      <Toggle enabled={animation} onChange={handleAnimation} /> Animations\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsAnimation;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"backdrop__T766e\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\n\r\nconst SettingsBackdrop = ({ onClick }) => (\r\n  <div class={[style.backdrop, 'atrament-settings-backdrop'].join(' ')} onClick={onClick}></div>\r\n);\r\n\r\nexport default SettingsBackdrop;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"close\":\"close__WLi7G\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\n\r\nconst SettingsCloseButton = ({onClick}) => (\r\n  <div class={style.close}>\r\n    <button onClick={onClick} title=\"Close\">&#x2715;</button>\r\n  </div>\r\n);\r\n\r\nexport default SettingsCloseButton;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"settings\":\"settings__1sOan\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\n\r\nconst SettingsModal = ({ children }) => (\r\n  <div class={[style.settings, 'atrament-settings-modal'].join(' ')}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport default SettingsModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"settings_font_container\":\"settings_font_container__DYxBs\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\nimport { useCallback } from 'preact/hooks';\r\n\r\nimport { fonts } from 'src/components/theme';\r\n\r\nconst SettingsFont = ({ font, setFont }) => {\r\n  const handleFont = useCallback((e) => setFont(e.target.value), [ setFont ]);\r\n  return (\r\n    <div class={[style.settings_font_container, 'atrament-settings-font'].join(' ')}>\r\n    <select onChange={handleFont} style={{'font-family': fonts[font]}}>\r\n        {Object.entries(fonts).map(([k, v]) => (\r\n            <option value={k} style={{'font-family': v}} selected={font === k}>{k}</option>\r\n        ))}\r\n    </select>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsFont;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"settings_fontsize_container\":\"settings_fontsize_container__wP8JL\",\"settings_font_a\":\"settings_font_a__Btx-T\",\"settings_fontsize_input_container\":\"settings_fontsize_input_container__LwIpf\",\"settings_fontsize_input\":\"settings_fontsize_input__kN0NY\",\"settings_font_sample\":\"settings_font_sample__6xeQK\"};","// extracted by mini-css-extract-plugin\nexport default {\"settings_theme_container\":\"settings_theme_container__GNC6s\",\"settings_theme_button\":\"settings_theme_button__GnuVe\"};","import { h } from 'preact';\r\nimport style from './index.css';\r\nimport { useCallback } from 'preact/hooks';\r\n\r\nimport { themes } from 'src/components/theme';\r\n\r\nconst SettingButton = ({themeId, themeConfig, onClick }) =>  {\r\n    const buttonStyle={\r\n        color: themeConfig['--fg-color'],\r\n        'background-color': themeConfig['--bg-color']\r\n    }\r\n    return (<button class={style.settings_theme_button} style={buttonStyle} onClick={onClick} data-theme-id={themeId}>{themeId}</button>);\r\n};\r\n\r\nconst SettingsTheme = ({ setTheme }) => {\r\n  const handleTheme = useCallback((e) => setTheme(e.target.attributes['data-theme-id'].value), [ setTheme ]);\r\n  return (\r\n    <div class={[style.settings_theme_container, 'atrament-settings-theme'].join(' ')}>\r\n        {Object.entries(themes).map(([k, v]) => {\r\n            return <SettingButton themeId={k} themeConfig={v} onClick={handleTheme} />\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsTheme;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"checkbox_wrapper\":\"checkbox_wrapper__-wNzj\",\"checkbox\":\"checkbox__XUrp9\",\"focus-visible\":\"focus-visible__U28+i\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Toggle = ({enabled, onChange}) => (\n  <div class={style.checkbox_wrapper}>\n    <input type=\"checkbox\" class={style.checkbox} checked={enabled} onChange={onChange} />\n  </div>\n);\n\nexport default Toggle;\n\n","// extracted by mini-css-extract-plugin\nexport default {\"block\":\"block__5Kw+w\",\"block_start\":\"block_start__qEaDh\",\"block_end\":\"block_end__ZWY1I\"};","import { h } from 'preact';\nimport style from './index.css';\n\nconst Block = ({ children, align }) => {\n  const cssStyles = [style.block];\n  if (align === 'start') {\n    cssStyles.push(style.block_start);\n  } else if (align === 'end') {\n    cssStyles.push(style.block_end);\n  }\n  cssStyles.push('atrament-block');\n  return (\n    <div class={cssStyles.join(' ')}>\n      {children}\n    </div>\n  );\n};\n\nexport default Block;\n","// extracted by mini-css-extract-plugin\nexport default {\"settings_container\":\"settings_container__GOY-m\",\"settings_toggle\":\"settings_toggle__8pZcW\"};","import { h } from 'preact';\nimport style from './index.css';\nimport { useStore } from '@nanostores/preact';\n\nimport { useCallback, useContext, useEffect, useState } from 'preact/hooks';\n\nimport {\n  SettingsBackdrop,\n  SettingsModal,\n  SettingsCloseButton,\n  SettingsSound,\n  SettingsText,\n  SettingsFont,\n  SettingsTheme,\n  SettingsAnimation\n} from 'src/components/ui';\n\nimport Atrament from 'src/atrament-context';\n\nconst Settings = () => {\n  const atrament = useContext(Atrament);\n  const { settings } = useStore(atrament.store());\n\n  const setAnimation = useCallback((v) => {\n    atrament.settings.set('animation', v);\n    atrament.settings.save();\n  });\n  const setMute = useCallback(() => {\n    atrament.settings.toggle('mute');\n    atrament.settings.save();\n  });\n  const setVolume = useCallback((v) => {\n    atrament.settings.set('volume', v);\n    atrament.settings.save();\n  });\n  const setFontSize = useCallback((v) => {\n    atrament.settings.set('fontSize', v);\n    atrament.settings.save();\n  });\n  const setTheme = useCallback((v) => {\n    atrament.settings.set('theme', v);\n    atrament.settings.save();\n  });\n  const setFont = useCallback((v) => {\n    atrament.settings.set('font', v);\n    atrament.settings.save();\n  });\n    \n  //\n  const [ isOpen, openSettings ] = useState(false);\n  const toggleSettings = useCallback(() => openSettings(!isOpen));\n\n  const escHandler = useCallback((e) => {\n    if (e.key === \"Escape\") {\n      openSettings(false)\n    }\n  });\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escHandler, false);\n    return () => {\n      document.removeEventListener(\"keydown\", escHandler, false);\n    }\n  }, [ escHandler ]);\n\n  if (isOpen) {\n    return (\n      <div class={style.settings_container}>\n        <SettingsBackdrop onClick={toggleSettings} />\n        <SettingsModal>\n          <SettingsCloseButton onClick={toggleSettings} />\n          <SettingsAnimation animation={settings.animation} setAnimation={setAnimation} />\n          <SettingsSound mute={settings.mute} volume={settings.volume} setMute={setMute} setVolume={setVolume} />\n          <SettingsFont font={settings.font} setFont={setFont} />\n          <SettingsText font={settings.font} fontSize={settings.fontSize} setFontSize={setFontSize} />          \n          <SettingsTheme theme={settings.theme} setTheme={setTheme} />\n          <div style={{width: '100%', 'text-align': \"right\", 'font-size': '0.8rem'}}>atrament {atrament.version}</div>\n        </SettingsModal>\n      </div>\n    );\n  } else {\n    return (\n      <button class={style.settings_toggle} onClick={toggleSettings}>â˜°</button>\n    );\n  }\n};\n\nexport default Settings;","import{h as a}from\"preact\";import{useRouter as t,exec as r,Link as e}from\"preact-router\";var s=[\"className\",\"activeClass\",\"activeClassName\",\"path\"];function l(a){var e=t()[0];return a.children({url:e.url,path:e.path,matches:!1!==r(e.path||e.url,a.path,{})})}function c(l){var c=l.className,n=l.activeClass,u=l.activeClassName,i=l.path,p=function(a,t){if(null==a)return{};var r,e,s={},l=Object.keys(a);for(e=0;e<l.length;e++)t.indexOf(r=l[e])>=0||(s[r]=a[r]);return s}(l,s),h=t()[0],f=i&&h.path&&r(h.path,i,{})||r(h.url,p.href,{}),o=p.class||c||\"\",m=f&&(n||u)||\"\";return p.class=o+(o&&m&&\" \")+m,a(e,p)}export{c as Link,l as Match,l as default};\n","// extracted by mini-css-extract-plugin\nexport default {\"link_home\":\"link_home__T3cHG\"};","import { h } from 'preact';\nimport { Link } from 'preact-router/match';\nimport Block from '../block';\nimport style from './index.css';\n\nconst LinkHome = () => (\n  <Block>\n    <Link key=\"mainmenu\" href=\"/\" class={style.link_home}>The end</Link>\n  </Block>\n);\n\nexport default LinkHome;\n","import { h } from 'preact';\nimport style from './index.css';\nimport { useCallback } from 'preact/hooks';\nimport Toggle from '../toggle';\n\nconst SettingsSound = ({ mute, volume, setMute, setVolume }) => {\n  const handleMute = useCallback((e) => setMute(!e.target.checked), [ setMute ]);\n  const handleVolume = useCallback((e) => setVolume(e.target.value), [ setVolume ]);\n\n  return (\n    <>\n    <div class={[style.settings_sound, 'atrament-settings-sound'].join(' ')}>\n      <Toggle enabled={!mute} onChange={handleMute} /> Sound\n    </div>\n    <div class={style.settings_sound_container}>\n      <div class={style.settings_sound_icon}>&#128265;</div>\n      <div class={style.settings_sound_input_container}>\n        <input\n          class={style.settings_sound_volume}\n          disabled={mute}\n          type=\"range\"\n          min=\"0\"\n          max=\"100\"\n          value={volume}\n          onChange={handleVolume}\n        />\n      </div>\n      <div class={style.settings_sound_icon}>&#128266;</div>\n    </div>\n    </>\n  );\n};\n\nexport default SettingsSound;\n","import { useState, useEffect } from 'preact/hooks'\nimport { listenKeys } from 'nanostores'\n\nexport function useStore(store, opts = {}) {\n  let [, forceRender] = useState({})\n  let [valueBeforeEffect] = useState(store.get())\n\n  useEffect(() => {\n    valueBeforeEffect !== store.get() && forceRender({})\n  }, [])\n  \n  useEffect(() => {\n    let batching, timer, unlisten\n    let rerender = () => {\n      if (!batching) {\n        batching = 1\n        timer = setTimeout(() => {\n          batching = undefined\n          forceRender({})\n        })\n      }\n    }\n    if (opts.keys) {\n      unlisten = listenKeys(store, opts.keys, rerender)\n    } else {\n      unlisten = store.listen(rerender)\n    }\n    return () => {\n      unlisten()\n      clearTimeout(timer)\n    }\n  }, [store, '' + opts.keys])\n\n  return store.get()\n}\n","export function listenKeys(store, keys, listener) {\n  let keysSet = new Set([...keys, undefined])\n  return store.listen((value, changed) => {\n    if (keysSet.has(changed)) {\n      listener(value, changed)\n    }\n  })\n}\n"],"sourceRoot":""}